/* src/styles/globals.css (corrigido)
   Observações: consolidei imports, corrigi nomes de variáveis 3D (não começam com dígito), unifiquei nomes de animações
   e deixei prefer-reduced-motion mais acessível. */

@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&display=swap');

@layer base, components, utilities;

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  /* Cores base - SUBSTITUA COM SUA PALETA */
  --color-primary: #8B0000;
  --color-secondary: #D4AF37;
  --color-accent: #FF6B8B;
  --color-bg-dark: #0A0A0A;
  --color-bg-muted: #1A1A1A;
  --color-bg-soft: #2A2A2A;
  --color-text: #FFFFFF;
  --color-text-muted: #A0A0A0;
  --color-border: #333333;

  /* Variáveis 3D (não começam com dígito) */
  --shadow-3d-intensity: 0.8;
  --light-3d-warmth: 0.9;
  --reflection-3d: 0.15;

  /* Tipografia */
  --font-sans: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  --font-serif: 'Playfair Display', Georgia, 'Times New Roman', serif;
  --font-display: 'Cinzel', serif;
}

html,
body {
  font-family: var(--font-sans);
  background-color: var(--color-bg-dark);
  color: var(--color-text);
  overflow-x: hidden;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.font-cinzel { font-family: var(--font-display); }
.font-playfair { font-family: var(--font-serif); }
.font-inter { font-family: var(--font-sans); }

/* Animações (nomes consistentes em kebab-case) */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@keyframes pulse-soft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes pulse-slow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes door-open {
  from { transform: rotateY(0); }
  to   { transform: rotateY(-90deg); }
}

.animate-float        { animation: float 6s ease-in-out infinite; }
.animate-pulse-soft   { animation: pulse-soft 4s ease-in-out infinite; }
.animate-pulse-slow   { animation: pulse-slow 2s ease-in-out infinite; }
.animate-fade-in      { animation: fade-in 0.3s ease-out forwards; }
.animate-door-open    { animation: door-open 2s ease-out forwards; }

/* Acessibilidade: prefere reduzir movimento */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
  }
}

/* Scrollbar personalizada (WebKit) */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--color-bg-dark); }
::-webkit-scrollbar-thumb {
  background: var(--color-primary);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover { background: var(--color-accent); }

/* Pequena utilidade para leitores de tela */
.sr-only {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}

/* Animação de "corações flutuantes" (use com elementos dentro de .floating-hearts) */
@keyframes float-heart {
  0% {
    opacity: 0;
    transform: translateY(100vh) rotate(0deg) scale(0.5);
  }
  10% { opacity: 0.7; }
  90% { opacity: 0.7; }
  100% {
    opacity: 0;
    transform: translateY(-100px) rotate(360deg) scale(1.2);
  }
}

.floating-hearts {
  position: relative; /* container para posicionar os filhos */
  overflow: visible;
}

.floating-hearts div {
  will-change: transform, opacity;
  backface-visibility: hidden;
  transform: translateZ(0);
  /* não force animação aqui — deixar controlado pelo JS ou classes */
}

/* Bordas e foco para acessibilidade */
:focus { outline: 3px solid color-mix(in srgb, var(--color-accent) 40%, transparent); outline-offset: 2px; }

/* Exemplo de componente básico para referência */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 1rem;
}

/* Adicionar ao globals.css */
@keyframes float-heart {
  0% {
    opacity: 0;
    transform: translateY(100vh) rotate(0deg) scale(0.5);
  }
  10% {
    opacity: 0.7;
  }
  90% {
    opacity: 0.7;
  }
  100% {
    opacity: 0;
    transform: translateY(-100px) rotate(360deg) scale(1.2);
  }
}

/* Otimizações de performance */
.floating-hearts div {
  will-change: transform, opacity;
  backface-visibility: hidden;
  transform: translateZ(0);
  pointer-events: none;
}

/* Respeitar prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .floating-hearts div {
    animation: none !important;
    opacity: 0 !important;
  }
  
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Variáveis CSS */
:root {
  --color-passion-pink: #FF6B8B;
  --color-love-red: #FF4757;
  --color-romantic-gold: #D4AF37;
  --color-golden-glow: #FFD700;
  --color-primary: #FF6B8B;
  --color-accent: #D4AF37;
}

/* globals.css - ADICIONAR ESTAS REGRAS */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');

/* Reset crítico */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* Canvas positioning fix */
canvas {
  display: block !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 10 !important;
}

/* Botão centralizado definitivo */
.btn-entrance {
  position: fixed !important;
  bottom: 2rem !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  z-index: 40 !important;
  will-change: transform;
  animation: pulse-glow 2s infinite;
}

@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 
      0 10px 40px rgba(255, 107, 139, 0.5),
      0 5px 20px rgba(212, 175, 55, 0.3);
  }
  50% {
    box-shadow: 
      0 15px 50px rgba(255, 107, 139, 0.7),
      0 10px 30px rgba(212, 175, 55, 0.5);
  }
}

/* Overlay de gradiente */
.gradient-overlay {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 30vh;
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.9) 0%,
    rgba(0, 0, 0, 0.7) 30%,
    rgba(0, 0, 0, 0.4) 60%,
    transparent 100%
  );
  pointer-events: none;
  z-index: 20;
}

/* Loading animations */
@keyframes shimmer {
  0% { background-position: -1000px 0; }
  100% { background-position: 1000px 0; }
}

.shimmer-effect {
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  background-size: 1000px 100%;
  animation: shimmer 2s infinite;
}

/* Responsividade */
@media (max-width: 768px) {
  .btn-entrance {
    bottom: 1.5rem !important;
    padding: 0.75rem 1.5rem !important;
    font-size: 1rem !important;
    min-width: 240px !important;
  }
  
  .gradient-overlay {
    height: 40vh;
  }
}

@media (max-width: 480px) {
  .btn-entrance {
    bottom: 1rem !important;
    min-width: 200px !important;
    padding: 0.5rem 1rem !important;
    font-size: 0.9rem !important;
  }
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.3);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, #FF6B8B, #D4AF37);
  border-radius: 4px;
}

/* Adicione ao seu arquivo CSS global */
@keyframes pulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 10px 40px rgba(255, 107, 139, 0.5);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 15px 50px rgba(255, 107, 139, 0.8);
  }
}

.pulse {
  animation: pulse 2s infinite ease-in-out;
}

/* Garantir que o canvas fique acima de tudo */
canvas {
  z-index: 10 !important;
}

/* Overlay para evitar interferência */
.canvas-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 5;
  pointer-events: none;
}

@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(180deg); }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.animate-float {
  animation: float 10s infinite ease-in-out;
}

.animate-shimmer {
  animation: shimmer 2s infinite linear;
}